(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{47:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZwAAAGcCAMAAADan+YLAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAMUExURcXFxf///9fX1/Hx8bLCmLMAAAWuSURBVHja7d3BclRJDERRl+r//3nCDMwQEBCmTdsp6Vx2LN+NTKmq3f1eXgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAZSP/FSnkqAlvuV8z9f/+fVET7Ry3n990v+VeRRfbiY82YI+tjEnD+FoFQz3yqOn6eqedTMN0H0PC0057zPDT9PO8mcv8S9DkEZk8Z2kLQ3v1mP5/p3toDzDOj5/AXNatCp0ejJbjTdltxowhPdaN/BTmRs/juUImvamDw93LATrOaLHk891o3wJLtx2xbsRnbewmepceJ5Q27OYUdunEd7uXnNjvDEutFsyW7Y+dxbaHa67WnsRJ49nUYb5Yad4Ny4o85c1Bx3OrixFMSWmrGT7cbYyS01diK3aMXWwY2lIHXgKLb04Ci2YDfs3GQ5y6dOZcvZHZ1sN7ujU+lyFkcn3s1mO/lu9hZbdZCzNTod3GyNTvWQszM6dcjRanptaqvtjE4XNxs/OqjTR04JjqlDjl6b1Gr7eq1TcNb1Wi85V6vptZDg9ErOrl5r5mZVr1U7OWXk6DXBIWeWnD291lGOkaPXLNKi8xsOOVqNnC1yihwbgX2AnFlyLjnkGDnkzLm82bOudU0OOeSQY5eWHJu05JCzY5eWHHIkR3LIkRxyJEdyyJEcySFHctytkePikxzJkRxyyPlAOf40KhjHHAcdcvbI8S0DcsghZ5Yc3wlNZomb8m1q65qRs2Xo+HkVrUYOObOGzqYfw7vkkKPVFvRabfp53NJq5PiIen6vLXuXQZFDjl1teq+te/NUkeMcqtVmR2fhe0K9xFV0BGeynKVvdb/WAdHRalOjszQ4PaJTW+U0uMPZ6ya/2O7LYkpwREdw5kWnlstJjk4tl5Ns5253k7xOcxNr5wpObrFxE7yxcZMbHW5yx84lJTY7Bs53ckqpKTa5aZ+dIid27FgGcu0otVw7cpNrh5vcexydFmyHm9hmk5tcO+ZNrh1uYm9yLjexNznc5C5tVoHcwcNN7uBxDZ1bbdTEVptKe8jOpWZ1eK5xk3rkEZt3rm1XahaOHmpyq01u3m/mebV26Ylepn0H5/HQfMwRlJ/ME6j4ZKuhJ/RWjZ7w1LgtiE6N9GSnhp50NfREqzF78oYNO13U0PMjcd90pyczNsITroaebDfshP+y9PXjuOyIjb8C6XglIDz9Km2zndvmbYfXO1yFR6WxM83Npru2Og0p48aJx5r2WLcZNwYPN5a2YW5m26nbXc5cO91zMzk7dUZQcsOO3Gi2WW7mZWdMpw3Mziw3s+y0P99MtjNNzaSPrue5mXNHPdLNEDtD3YywU2Pl9D/u1JlL95VtcG7a25ntprmdOsPlNF4Khufmy1JQSk2xcfMISs1Z1DKw5Sy6xk1DO0sGTs+lYJGbdmOnziqKG3aU2vBiu+vk9IlO7XPTZ2Nb6KZNsdVZSSk1xabUhhZbnbWUUlNs5AyMzuJSy7dzd8u5giM6gjMsOkVOccOOUhtUbIITHB1ucqMjOMHR4SY3OoITHB1ucq8JBCfYDje5U0dwgqcON7nREZzg6BQfuSuB4OT2mlYL7jVucqMjOMHR4SY3OoITHB17dPA2LTi5vSY4wdERnODokJMrR6sF95rg5G7TDjnBvabVcu0IDjmGjnVgWHTIyZVjHQg+6pATLEer5faa4ARHh5xcOQ45yUcdcnLlaLXgXhOc3H3NyAnuNa1GjqFj5MwaOkZOcK9pteBeIydYjlbLHTpGTvDQISe414ycYDmCEzx0yMmVY+QEbwTkJMvxzHM3AsHJHTpaLXkjICd36Bg5wUOHnGA5Wi146JBDDjlGzqyhQw455JAzTI59IHgjIIccch7B0869+vSBwR9jWbOukUMOOeTMk2MfCN6lySGHHHJmyXEGDb4iIIccchxzgg86/wD8nQpyaVGKFgAAAABJRU5ErkJggg=="},50:function(e,t,a){e.exports=a(91)},55:function(e,t,a){},56:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(29),c=a.n(o),i=(a(55),a(2)),l=a(3),s=a(5),m=a(4),u=a(6),p=(a(56),a(22)),d=a(7),g=a(45),f=Object(d.b)(function(e){return{auth:e.auth}})(function(e){var t=e.component,a=e.auth,n=Object(g.a)(e,["component","auth"]);return r.a.createElement(p.b,Object.assign({},n,{render:function(e){return!0===a.isAuthenticated?r.a.createElement(t,e):r.a.createElement(p.a,{to:"/login"})}}))}),h=a(9),y="GET_ERRORS",E=a(1),v=a.n(E),b=function(e){e?v.a.defaults.headers.common.Authorization=e:delete v.a.defaults.headers.common.Authorization},N=a(25),k=a.n(N),C=function(){return function(e){localStorage.removeItem("jwtToken"),b(!1),e(A({}))}},A=function(e){return{type:"SET_CURRENT_USER",payload:e}},S="https://laurarecipebackend.herokuapp.com",O=function(e,t,a){return function(n){n({type:"SET_RECIPE_LOADING",payload:!0}),v.a.get("".concat(S,"/api/recipes/all?page=").concat(e,"&limit=").concat(t,"&search=").concat(a)).then(function(t){console.log("Recipe count",t),n({type:"GET_RECIPES",payload:{recipe:t.data.data.recipes,count:t.data.data.count,page:e}}),n({type:"SET_CATEGORY",payload:""}),n({type:"SET_RECIPE_LOADING",payload:!1}),n({type:"SET_SEARCH",payload:a})}).catch(function(e){400===e.response.status&&n({type:y,payload:e.response.data.err}),console.log("err ",e.response)})}},_=function(e,t){return function(a){a({type:"SET_RECIPE_LOADING",payload:!0}),a({type:"SET_SEARCH",payload:""}),v.a.get("".concat(S,"/api/recipes/getByCategory?category=").concat(e,"&page=").concat(t)).then(function(n){console.log("re category ",n),a({type:"GET_RECIPES",payload:{recipe:n.data.data.recipes,count:n.data.data.count,page:t}}),a({type:"SET_CATEGORY",payload:e}),a({type:"SET_RECIPE_LOADING",payload:!1})}).catch(function(e){console.log("err ",e)})}},j=function(){return function(e){v.a.get("".concat(S,"/api/recipes/popular")).then(function(t){console.log("popular recipe",t),e({type:"GET_RECIPES_POPULAR",payload:t.data.data})}).catch(function(e){console.log("err recipe popular",e)})}},x=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={search:""},a.searchSubmit=function(e){e.preventDefault(),console.log(" serach  ",a.state.search),a.props.getRecipeAll(1,20,a.state.search),a.props.history.push("/")},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"logoutUser",value:function(e){e.preventDefault(),console.log("logout user"),this.props.logoutUser(),this.props.history.push("/login")}},{key:"render",value:function(){var e=this,t=this.props.auth,a=t.isAuthenticated,n=(t.user,r.a.createElement("li",{className:"nav-item"},r.a.createElement(h.b,{className:"nav-link",to:"/login"},"Login"))),o=r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement(h.b,{className:"nav-link dropdown-toggle",to:"/product",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"User"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"},r.a.createElement("p",{className:"dropdown-item",onClick:function(t){return e.logoutUser(t)}},"Logout")));return r.a.createElement("div",{className:"container"},r.a.createElement("nav",{className:"navbar mynavbar fixed-top navbar-expand-lg navbar-dark btn-purple"},r.a.createElement(h.b,{className:"navbar-brand",to:"home"},"Laura Recipe "),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement(h.b,{className:"nav-link",to:"/"},"Home ",r.a.createElement("span",{className:"sr-only"},"(current)"))),a?o:n),r.a.createElement("form",{className:"form-inline my-2 my-lg-0 mynav-form ",onSubmit:function(t){return e.searchSubmit(t)}},r.a.createElement("input",{className:"form-control mr-sm-2 mr-md-2",onChange:function(t){e.setState({search:t.target.value})},type:"search",name:"search",placeholder:"Search","aria-label":"Search"}),r.a.createElement("button",{className:"btn btn-purple my-2 my-sm-0",type:"submit"},"Search")))))}}]),t}(r.a.Component),w=Object(d.b)(function(e){return{auth:e.auth}},{logoutUser:C,getRecipeAll:O})(Object(p.f)(x)),R=function(){return r.a.createElement("footer",{className:"btn-purple text-white p-4 text-center"},"Copyright \xa9 2019")},I=(r.a.Component,a(11)),T=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",username:"",password:"",errors:{}},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors}),e.auth.isAuthenticated&&this.setState({email:"",password:"",username:""})}},{key:"onChange",value:function(e){this.setState(Object(I.a)({},e.target.name,e.target.value)),console.log(this.state)}},{key:"onSubmit",value:function(e){e.preventDefault();var t={username:this.state.username,email:this.state.email,password:this.state.password};this.props.registerUser(t,this.props.history),console.log("user ",t)}},{key:"render",value:function(){var e=this,t=this.state.errors;this.props.auth.user;return r.a.createElement("form",{noValidate:!0,onSubmit:function(t){return e.onSubmit(t)}},r.a.createElement("h3",null,"Register"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Username"),r.a.createElement("input",{type:"text",className:["form-control",t.username?"is-invalid":""].join(" "),onChange:function(t){return e.onChange(t)},name:"username","aria-describedby":"emailHelp",value:this.state.username,placeholder:"Username "}),t.email&&r.a.createElement("div",{className:"invalid-feedback"},t.username)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Email address"),r.a.createElement("input",{type:"text",className:["form-control",t.email?"is-invalid":""].join(" "),"aria-describedby":"emailHelp",name:"email",onChange:function(t){return e.onChange(t)},placeholder:"Enter email",value:this.state.email}),r.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"We'll never share your email with anyone else."),t.email&&r.a.createElement("div",{className:"invalid-feedback"},t.email)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",className:["form-control",t.password?"is-invalid":""].join(" "),onChange:function(t){return e.onChange(t)},name:"password",placeholder:"Password",value:this.state.password}),t.email&&r.a.createElement("div",{className:"invalid-feedback"},t.password)),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit"))}}]),t}(r.a.Component),P=Object(d.b)(function(e){return{auth:e.auth,errors:e.errors}},{registerUser:function(e,t){return function(a){console.log("dispatch register user",e),v.a.post("".concat("https://laurarecipebackend.herokuapp.com","/api/users/register"),e).then(function(e){console.log("res data register",e),localStorage.setItem("jwtToken",e.data.token),b(e.data.token);var n=k()(e.data.token);a(A(n)),t.push("/")}).catch(function(e){console.log("err ",e.response.data),e.response&&a({type:y,payload:e.response.data.err})})}}})(Object(p.f)(T)),D=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",errors:{}},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors}),e.auth.isAuthenticated&&this.setState({email:"",password:""})}},{key:"onChange",value:function(e){this.setState(Object(I.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var t={email:this.state.email,password:this.state.password};console.log("login ",t),this.props.loginUser(t,this.props.history)}},{key:"render",value:function(){var e=this,t=this.state.errors;return r.a.createElement("form",{noValidate:!0,onSubmit:function(t){return e.onSubmit(t)}},r.a.createElement("h3",null,"Login"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Email address"),r.a.createElement("input",{type:"text",onChange:function(t){return e.onChange(t)},className:["form-control",t.email?"is-invalid":""].join(" "),name:"email",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email"}),r.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"We'll never share your email with anyone else."),t.email&&r.a.createElement("div",{className:"invalid-feedback"},t.email)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",onChange:function(t){return e.onChange(t)},className:["form-control",t.password?"is-invalid":""].join(" "),name:"password",id:"exampleInputPassword1",placeholder:"Password"}),t.password&&r.a.createElement("div",{className:"invalid-feedback"},t.password)),t.msg&&r.a.createElement("div",{className:"invalid-feedback"},t.msg),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit"))}}]),t}(r.a.Component),M=Object(d.b)(function(e){return{auth:e.auth,errors:e.errors}},{loginUser:function(e,t){return function(a){v.a.post("".concat("https://laurarecipebackend.herokuapp.com","/api/users/login"),e).then(function(e){console.log("res data register",e),localStorage.setItem("jwtToken",e.data.token),b(e.data.token);var n=k()(e.data.token);a(A(n)),t.push("/")}).catch(function(e){e.response&&a({type:y,payload:e.response.data.err})})}}})(Object(p.f)(D)),U=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={selected:"login"},a.loginClicked=function(e){console.log("login clicked"),a.setState({selected:"login"})},a.registerClicked=function(e){console.log("register clicked"),a.setState({selected:"register"})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/")}},{key:"render",value:function(){var e=this,t=null;return t="login"===this.state.selected?r.a.createElement(M,null):r.a.createElement(P,null),r.a.createElement("div",{className:"loginregister"},r.a.createElement("div",{className:"loginregister__text"},r.a.createElement("h3",null,"Recipe test",r.a.createElement("br",null))),r.a.createElement("div",{className:"loginregister__main"},r.a.createElement("div",{className:"loginregister__header"},r.a.createElement("div",{onClick:function(t){return e.loginClicked(t)},className:["loginbutton","login"===this.state.selected?"loginbutton__active":null].join(" ")},"Login"),r.a.createElement("div",{onClick:function(t){return e.registerClicked(t)},className:["loginbutton","register"===this.state.selected?"loginbutton__active":null].join(" ")},"Register")),r.a.createElement("div",{className:"loginregister__content"},t)))}}]),t}(r.a.Component),G=Object(d.b)(function(e){return{auth:e.auth}})(Object(p.f)(U)),H=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"product",onClick:this.props.onClick},r.a.createElement("img",{className:"product__image",src:this.props.image,alt:""}),r.a.createElement("h3",{className:"product__title"},this.props.title),r.a.createElement("p",{className:"product__seen"},r.a.createElement("i",{className:"material-icons"},"remove_red_eye"),this.props.seen),r.a.createElement("p",{className:"product__serves"},r.a.createElement("i",{className:"material-icons"},"restaurant"),this.props.serves))}}]),t}(r.a.Component),L=function(e){return void 0===e||null===e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length},z=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).itemSelected=function(e){L(a.props.recipe.category)?a.props.getRecipeAll(e,20,a.props.recipe.search):a.props.getRecipeCategory(a.props.recipe.category,e)},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){for(var e=this,t=this.props.total,a=this.props.page,n=Math.ceil(t/20),o=[],c=1;c<=n;c++)o.push(c);return r.a.createElement("div",{className:"pagination"},r.a.createElement("div",{className:"pagination__container"},r.a.createElement("div",{className:"pagination__item__start",onClick:function(){return e.itemSelected(a-1)}},r.a.createElement("i",{className:"fas fa-backward"})),r.a.createElement("div",{className:"pagination__inner"},o.map(function(t){return r.a.createElement("div",{onClick:function(){return e.itemSelected(t)},key:t,className:["pagination__item",t===a?"pagination__item__active":t===a+1||t===a+2||t===a+3||t===a-1||t===a-2||t===a-3?"pagination__item__sibling":""].join(" ")},t)})),r.a.createElement("div",{className:"pagination__item__end",onClick:function(){return e.itemSelected(a+1)}},r.a.createElement("i",{className:"fas fa-forward"}))))}}]),t}(r.a.Component),Y=Object(d.b)(function(e){return{recipe:e.recipe}},{getRecipeAll:O,getRecipeCategory:_})(Object(p.f)(z)),B=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={},a.selectRecipe=function(e){a.props.history.push("/product/".concat(e))},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){console.log("this.props.recipe ",this.props.recipe.category),this.props.getRecipeAll(this.props.recipe.page,20,this.props.recipe.search),this.props.getRecipePopular()}},{key:"render",value:function(){var e=this;return!1===this.props.recipe.loading?0===this.props.recipe.recipes.length?r.a.createElement("div",{className:"productpage"},"No product found"):r.a.createElement("div",{className:"productpage"},r.a.createElement("div",{className:"productcontainer"},this.props.recipe.recipes.map(function(t){return r.a.createElement(H,{seen:t.seen,key:t._id,onClick:function(){return e.selectRecipe(t._id)},title:t.title,serves:t.serves,image:t.image})})),r.a.createElement("div",{className:"mypagination"},r.a.createElement(Y,{total:this.props.recipe.total,page:this.props.recipe.page}))):r.a.createElement("div",{className:"loadingcontainer"},r.a.createElement("div",{className:"lds-facebook"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}}]),t}(r.a.Component),W=Object(d.b)(function(e){return{recipe:e.recipe,category:e.category}},{getRecipeAll:O,selectRecipe:function(e){return function(t){v.a.get("".concat(S,"/api/recipes/item/").concat(e)).then(function(e){console.log("re selected ",e)}).catch(function(e){console.log("catch err ",e)})}},getRecipeCategory:_,getRecipePopular:j})(Object(p.f)(B)),F=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"dashboard"},r.a.createElement("div",{className:"dashboard__sidebar"},r.a.createElement(h.b,{to:"/"},"Dashboard"),r.a.createElement(h.b,{to:"/admin/recipecategory"},"Recipe"),r.a.createElement(h.b,{to:"/admin/category"},"Category"),r.a.createElement(h.b,{to:"/admin/parse"},"Parse")),r.a.createElement("div",{className:"dashboard__mainbar"},this.props.children))}}]),t}(r.a.Component),Z=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).clearref=r.a.createRef(),a.state={change:!1},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({change:!1})}},{key:"componentWillReceiveProps",value:function(e){e.category.categories!==this.props.category.categories?(this.setState({change:!0}),this.clearref.current.click()):e.maincategory.maincategories!==this.props.maincategory.maincategories?(this.setState({change:!0}),this.clearref.current.click()):e.recipe.recipes!==this.props.recipe.recipes&&(this.setState({change:!0}),this.clearref.current.click())}},{key:"render",value:function(){var e=this;this.props.category.categories;return r.a.createElement("div",{className:"modal fade",id:this.props.modalid,role:"dialog"},r.a.createElement("div",{className:"modal-dialog modal-lg"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h4",{className:"modal-title"},this.props.header," ","Add"===this.props.operation?" Add":" Update"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":this.props.toggle},"\xd7")),r.a.createElement("div",{className:"modal-body"},this.props.children),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",onClick:function(){return e.props.onSubmit()},className:"btn btn-purple"},"Save"),r.a.createElement("button",{type:"button",ref:this.clearref,className:"btn btn-purple","data-dismiss":this.props.toggle},"Close")))))}}]),t}(r.a.Component),J=Object(d.b)(function(e){return{auth:e.auth,category:e.category,maincategory:e.maincategory,recipe:e.recipe}})(Z),V="https://laurarecipebackend.herokuapp.com",X=function(){return function(e){v.a.get("".concat(V,"/api/categories/all")).then(function(t){console.log("category all ",t.data.data),e({type:"GET_CATEGORIES",payload:t.data.data}),console.log("console.log   ")}).catch(function(e){console.log("err ",e.response),console.log("res error all cat ",e.response)})}},q=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={id:"",name:"",special:!1,operation:"Add",errors:{name:"",msg:""}},a.onChange=function(e){e.preventDefault(),"text"===e.target.type?a.setState(Object(I.a)({},e.target.name,e.target.value)):a.setState(Object(I.a)({},e.target.name,e.target.checked))},a.onSubmit=function(){if("Add"===a.state.operation){var e={name:a.state.name,special:a.state.special};a.props.addCategory(e)}else{var t={_id:a.state.id,name:a.state.name,special:a.state.special};a.props.updateCategory(t)}console.log("onSubmit"),console.log("this ",a.state)},a.AddClicked=function(){a.setState({operation:"Add"})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.category.categories!==this.props.category.categories&&this.setState({name:"",special:!1,errors:{}}),L(e.errors)||(console.log("err ",e.errors),this.setState({errors:e.errors}))}},{key:"componentWillMount",value:function(){console.log("compoene id mount"),this.props.allCategory()}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.state.errors,a=this.props.category.categories;return r.a.createElement("div",{className:"templateBoard"},r.a.createElement("div",{className:"templateBoard__first"},r.a.createElement("button",{type:"button",className:"btn btn-info",onClick:function(){return e.setState({operation:"Add",name:"",special:!1,errors:{}})},"data-toggle":"modal","data-target":"#myModal"},"Add"),r.a.createElement("div",{className:"searchHolder"},r.a.createElement("input",{type:"text",placeholder:"search"})),r.a.createElement("div",{className:"buttonsearch"},r.a.createElement("i",{className:"material-icons"},"search"))),r.a.createElement(J,{onSubmit:this.onSubmit,operation:this.state.operation,header:"Category",toggle:"modal",modalid:"myModal"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Name"),r.a.createElement("input",{type:"text",onChange:function(t){return e.onChange(t)},className:["form-control",t.name?"is-invalid":""].join(" "),name:"name",value:this.state.name,placeholder:"Category name"}),r.a.createElement("small",{className:"form-text text-muted"},"Category name"),!L(t.name)&&r.a.createElement("div",{className:"invalid-feedback"},t.name)),r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement("input",{type:"checkbox",onChange:function(t){return e.onChange(t)},className:"form-check-input",name:"special",checked:this.state.special,placeholder:this.props.placeholder}),r.a.createElement("label",{className:"form-check-label"},"Special"))),r.a.createElement("div",{className:"templateBoard__second"},r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table table-hover table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Special"),r.a.createElement("th",null))),r.a.createElement("tbody",null,a.map(function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,a),r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.special?"yes":"no"),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-blue mr-2","data-toggle":"modal",onClick:function(){return e.setState({id:t._id,operation:"Update",name:t.name,special:t.special,errors:{}})},"data-target":"#myModal"},"Update"),r.a.createElement("button",{className:"btn btn-orange",onClick:function(){return e.props.deleteCategory(t._id)}},"Delete")))}))))))}}]),t}(r.a.Component),Q=Object(d.b)(function(e){return{auth:e.auth,category:e.category,errors:e.errors}},{addCategory:function(e){return function(t){v.a.post("".concat(V,"/api/categories/add"),e).then(function(e){console.log("red add categories ",e.data.data),t({type:"GET_CATEGORIES",payload:e.data.data}),t({type:y,payload:null})}).catch(function(e){e&&e.response&&400===e.response.status&&(t({type:y,payload:e.response.data}),console.log("res error add cat ",e.response))})}},allCategory:X,updateCategory:function(e){return function(t){v.a.post("".concat(V,"/api/categories/update"),e).then(function(e){console.log("red update categories ",e.data),t({type:"GET_CATEGORIES",payload:e.data.data}),t({type:y,payload:null})}).catch(function(e){e.response&&t({type:y,payload:e.response.data})})}},deleteCategory:function(e){return function(t){v.a.delete("".concat(V,"/api/categories/delete/").concat(e)).then(function(e){t({type:"GET_CATEGORIES",payload:e.data.data}),t({type:y,payload:null})}).catch(function(e){console.log("err ",e.response),e.response&&t({type:y,payload:e.response.data})})}}})(q),K=a(15),$="https://laurarecipebackend.herokuapp.com",ee=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={id:"",name:"",cats:[],categories:"",operation:"Add",errors:{name:"",msg:""}},a.onChange=function(e){e.preventDefault(),"text"===e.target.type?a.setState(Object(I.a)({},e.target.name,e.target.value)):"checkbox"===e.target.type?a.setState(Object(I.a)({},e.target.name,e.target.checked)):"select-one"===e.target.type&&(console.log("e. ",e.target.name),a.setState(Object(I.a)({},e.target.name,e.target.value)))},a.onSubmit=function(){if("Add"===a.state.operation){var e={name:a.state.name,categories:a.state.cats.map(function(e){return e._id})};a.props.addMainCategory(e)}else{var t={_id:a.state.id,name:a.state.name,categories:a.state.cats.map(function(e){return e._id})};a.props.updateMainCategory(t)}console.log("onSubmit"),console.log("this ",a.state)},a.AddClicked=function(){a.setState({operation:"Add"})},a.categorySelected=function(){var e=Object(K.a)(a.state.cats);if("None"===a.state.categories);else{var t=a.props.category.categories.filter(function(e){return e._id===a.state.categories})[0];e.includes(t)||(console.log("not includes"),e.push(t),a.setState({cats:e}))}console.log("cattt ",e)},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.maincategory.maincategories!==this.props.maincategory.maincategories&&this.setState({name:"",cats:[],categories:"",errors:{}}),L(e.errors)||(console.log("err ",e.errors),this.setState({errors:e.errors.err}))}},{key:"componentWillMount",value:function(){console.log("compoene id mount"),this.props.getMainCategoryAll(),this.props.allCategory()}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.state.errors,a=this.props.maincategory.maincategories;return r.a.createElement("div",{className:"templateBoard"},r.a.createElement("div",{className:"templateBoard__first"},r.a.createElement("button",{type:"button",className:"btn btn-info",onClick:function(){return e.setState({operation:"Add",name:"",special:!1,errors:{}})},"data-toggle":"modal","data-target":"#myModal"},"Add"),r.a.createElement("div",{className:"searchHolder"},r.a.createElement("input",{type:"text",placeholder:"search"})),r.a.createElement("div",{className:"buttonsearch"},r.a.createElement("i",{className:"material-icons"},"search"))),r.a.createElement(J,{onSubmit:this.onSubmit,operation:this.state.operation,header:"Main Category ",toggle:"modal",modalid:"myModal"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Name"),r.a.createElement("input",{type:"text",onChange:function(t){return e.onChange(t)},className:["form-control",L(t.name)?"":"is-invalid"].join(" "),name:"name",value:this.state.name,placeholder:"Category name"}),r.a.createElement("small",{className:"form-text text-muted"},"Category name"),!L(t.name)&&r.a.createElement("div",{className:"invalid-feedback"},t.name)),r.a.createElement("div",{className:"form-group mb-0 row p-3"},r.a.createElement("label",{className:"col-sm-12"},"Categories"),r.a.createElement("select",{name:"categories",onChange:function(t){return e.onChange(t)},className:" col-sm-9 mb-3 form-control"},r.a.createElement("option",null,"None"),this.props.category.categories.map(function(e){return r.a.createElement("option",{key:e._id,value:e._id},e.name)})),r.a.createElement("div",{className:"col-sm-1"}),r.a.createElement("button",{className:"btn btn-purple col-sm-2 mb-3 ",onClick:function(){return e.categorySelected()}},"Select")),r.a.createElement("div",{className:"cat_list"},r.a.createElement("ul",null,this.state.cats.map(function(e){return r.a.createElement("li",{key:e._id},e.name)})))),r.a.createElement("div",{className:"templateBoard__second"},r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table table-hover table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Sub categories"),r.a.createElement("th",null))),r.a.createElement("tbody",null,a.map(function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,a),r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.categories.map(function(e){return e.name+", "})),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-blue mr-2","data-toggle":"modal",onClick:function(){return e.setState({id:t._id,operation:"Update",name:t.name,cats:t.categories,errors:{}})},"data-target":"#myModal"},"Update"),r.a.createElement("button",{className:"btn btn-orange",onClick:function(){return e.props.deleteMainCategory(t._id)}},"Delete")))})))),r.a.createElement("nav",null,r.a.createElement("ul",{className:"pagination justify-content-center"},r.a.createElement("li",{className:"page-item disabled"},r.a.createElement("a",{className:"page-link",href:"/"},"Previous")),r.a.createElement("li",{className:"page-item"},r.a.createElement("a",{className:"page-link",href:"/"},"1")),r.a.createElement("li",{className:"page-item"},r.a.createElement("a",{className:"page-link",href:"/"},"2")),r.a.createElement("li",{className:"page-item"},r.a.createElement("a",{className:"page-link",href:"/"},"3")),r.a.createElement("li",{className:"page-item"},r.a.createElement("a",{className:"page-link",href:"/"},"Next"))))))}}]),t}(r.a.Component),te=Object(d.b)(function(e){return{auth:e.auth,category:e.category,maincategory:e.maincategory,errors:e.errors}},{allCategory:X,getMainCategoryAll:function(){return function(e){v.a.get("".concat($,"/api/maincategories/all")).then(function(t){console.log("main category all ",t.data.data),e({type:"GET_MAINCATEGORIES",payload:t.data.data}),console.log("console.log   ")}).catch(function(e){console.log("err ",e),console.log("res error all cat ",e.response)})}},updateMainCategory:function(e){return function(t){v.a.post("".concat($,"/api/maincategories/update"),e).then(function(e){console.log("res main category",e),t({type:"GET_MAINCATEGORIES",payload:e.data.data}),t({type:y,payload:null})}).catch(function(e){console.log("err. ",e.response),e.response&&400===e.response.status&&t({type:y,payload:e.response.data})})}},deleteMainCategory:function(e){return function(t){v.a.delete("".concat($,"/api/maincategories/delete/").concat(e)).then(function(e){t({type:"GET_MAINCATEGORIES",payload:e.data.data}),t({type:y,payload:null})}).catch(function(e){console.log("err ",e.response),e.response&&400===e.response.status&&t({type:y,payload:e.response.data})})}},addMainCategory:function(e){return function(t){v.a.post("".concat($,"/api/maincategories/add"),e).then(function(e){console.log("res main category",e),t({type:"GET_MAINCATEGORIES",payload:e.data.data}),t({type:y,payload:null})}).catch(function(e){e.response&&t({type:y,payload:e.response.data})})}}})(ee),ae=a(32),ne=a.n(ae);a(92);ne.a.initializeApp({apiKey:"AIzaSyDXo-iXFQihtlionsPgTNAO4gQQ9hknnPQ",authDomain:"laurarecipe-4e1d6.firebaseapp.com",databaseURL:"https://laurarecipe-4e1d6.firebaseio.com",projectId:"laurarecipe-4e1d6",storageBucket:"laurarecipe-4e1d6.appspot.com",messagingSenderId:"572018072276",appId:"1:572018072276:web:624fbe1ddb11cab2"});var re=ne.a.storage(),oe=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={id:"",title:"",seen:"",serves:"",imagelink:"",preinstruction:[{text:null,update:!1}],preinstructiontemp:"",instruction:"",ingredients:[{for:"empty",description:[{text:null,update:!1}]}],ingredientfor:"",selectedfor:"empty",ingredient:"",preparation:"",youtube:"",episode:"",cooktime:"",cats:[],categories:"",operation:"Add",errors:{},image:null,link:"",search:""},a.onChange=function(e){e.preventDefault(),"text"===e.target.type?a.setState(Object(I.a)({},e.target.name,e.target.value)):"checkbox"===e.target.type?a.setState(Object(I.a)({},e.target.name,e.target.checked)):"select-one"===e.target.type&&a.setState(Object(I.a)({},e.target.name,e.target.value))},a.onSubmit=function(){var e={};if("Add"===a.state.operation){var t={},n=a.state.ingredients.map(function(e){var t=e.description.map(function(e){return e?e.text:null}).filter(function(e){return null!==e});return{for:e.for,description:t}}).filter(function(e){return!L(e.description)});if(L(n)?e.ingredients="Ingredients is empty":t.ingredients=n,L(a.state.preinstruction.map(function(e){return e.text}).filter(function(e){return null!==e}))?e.preinstruction="Preinstruction is empty":t.preinstruction=a.state.preinstruction.map(function(e){return e.text}).filter(function(e){return null!==e}),L(a.state.seen)?e.seen="Seen is empty":isNaN(parseInt(a.state.seen))?e.seen="Must be integer":t.seen=a.state.seen,null!==a.state.image?t.image=a.state.image.name:(console.log("this image link chec",a.state.image),e.image="Image link is empty"),L(a.state.serves)?e.serves="Serves is empty":t.serves=a.state.serves,L(a.state.link)?e.link="Link is empty":t.link=a.state.link,L(a.state.status)?e.status="Status is empty":t.status="active"===a.state.status,L(a.state.title)?e.title="Title is empty":t.title=a.state.title,L(a.state.cats)?e.category="Category is empty":t.category=a.state.cats.map(function(e){return e._id}),L(a.state.cooktime)?e.cooktime="Cooktime is empty":t.cooktime=a.state.cooktime,L(a.state.preparation)?e.preparation="Preparation is empty":t.preparation=a.state.preparation,L(a.state.episode)?e.episode="Episode is empty":t.episode=a.state.episode,L(a.state.youtube))e.youtube="Youtube video link is empty";else{var r=a.state.youtube,o=/(?:youtube(?:-nocookie)?\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/;console.log("regex ",r.match(o)),r.match(o)?t.youtube=r.match(o)[1]:e.youtube="Youtube video link is not valid"}if(L(e)){console.log("submitted");var c=a.state.image;if(c)re.ref("images/".concat(c.name)).put(c).on("state_changed",function(e){console.log("progress")},function(t){console.log("err ",t),e.image="can not upload image",a.setState({errors:e})},function(){re.ref("images").child(c.name).getDownloadURL().then(function(e){console.log("url ",e),t.image=e,a.props.addRecipe(t)})})}else console.log("errors ",e),a.setState({errors:e})}else{var i={},l=a.state.ingredients.map(function(e){var t=e.description.map(function(e){return e?e.text:null}).filter(function(e){return null!==e});return{for:e.for,description:t}}).filter(function(e){return!L(e.description)});if(L(l)?e.ingredients="Ingredients is empty":i.ingredients=l,L(a.state.preinstruction.map(function(e){return e.text}).filter(function(e){return null!==e}))?e.preinstruction="Preinstruction is empty":i.preinstruction=a.state.preinstruction.map(function(e){return e.text}).filter(function(e){return null!==e}),L(a.state.seen)?e.seen="Seen is empty":isNaN(parseInt(a.state.seen))?e.seen="Must be integer":i.seen=a.state.seen,null!==a.state.image?i.image=a.state.image.name:(console.log("this image link chec",a.state.image),L(a.state.imagelink)&&(e.image="Image link is empty",e.imagelink="Image link is empty")),L(a.state.serves)?e.serves="Serves is empty":i.serves=a.state.serves,L(a.state.link)?e.link="Link is empty":i.link=a.state.link,L(a.state.status)?e.status="Status is empty":i.status="active"===a.state.status,L(a.state.title)?e.title="Title is empty":i.title=a.state.title,L(a.state.cats)?e.category="Category is empty":i.category=a.state.cats.map(function(e){return e._id}),L(a.state.cooktime)?e.cooktime="Cooktime is empty":i.cooktime=a.state.cooktime,L(a.state.preparation)?e.preparation="Preparation is empty":i.preparation=a.state.preparation,L(a.state.episode)?e.episode="Episode is empty":i.episode=a.state.episode,L(a.state.youtube))e.youtube="Youtube video link is empty";else{r=a.state.youtube,o=/(?:youtube(?:-nocookie)?\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/;console.log("regex ",r.match(o)),r.match(o)?i.youtube=r.match(o)[1]:(e.youtube="Youtube video link is not valid",console.log("yout not vaid"))}if(L(e)){i._id=a.state.id;var s=a.state.image;if(s)re.ref("images/".concat(s.name)).put(s).on("state_changed",function(e){console.log("progress")},function(t){console.log("err ",t),e.image="can not upload image",a.setState({errors:e})},function(){re.ref("images").child(s.name).getDownloadURL().then(function(e){console.log("url ",e),i.image=e,a.props.updateRecipe(i)})});else console.log(" image null update "),i.image=a.state.imagelink,a.props.updateRecipe(i)}else console.log("error is not empty"),a.setState({errors:e})}},a.setUpdateRecipeValue=function(e){console.log("setUpdateRecipevalue ",e),v.a.get("/api/recipes/item/".concat(e)).then(function(t){console.log("res ",t.data.data);var n=t.data.data,r={id:e,operation:"Update",errors:{},title:n.title,seen:n.seen,serves:n.serves,status:n?"active":"inactive",link:n.link,episode:n.episode?n.episode:"",imagelink:n.image,youtube:n.youtube?n.youtube:"",cooktime:n.cooktime?n.cooktime:"",preparation:n.preparation?n.preparation:"",preinstruction:n.preinstruction?n.preinstruction.map(function(e){return{text:e,update:!1}}):[{text:"",update:!1}],ingredients:n.ingredients?n.ingredients.map(function(e){return""===e.for&&(e.for="empty"),e.description=e.description.map(function(e){return{text:e,update:!1}}),e}):[{for:"empty",description:[{text:"",update:!1}]}],cats:n.category?n.category:[]};a.setState(r)}).catch(function(e){console.log("err ",e)})},a.AddClicked=function(){a.setState({operation:"Add"})},a.categorySelected=function(){var e=Object(K.a)(a.state.cats);if("None"===a.state.categories);else{var t=a.props.category.categories.filter(function(e){return e._id===a.state.categories})[0];e.includes(t)||(e.push(t),a.setState({cats:e}))}},a.instuctionAdded=function(){if(console.log("instruction added"),L(a.state.instruction)){var e=a.state.errors;e.instuction="Instuction is empty",a.setState({errors:e})}else{var t=a.state.preinstruction;t.push({text:a.state.instruction,update:!1});var n=a.state.errors;n.instuction=null,a.setState({preinstruction:t,instruction:"",errors:n})}console.log("instruction ",a.state)},a.ingredientAdded=function(){if(console.log("instruction added"),L(a.state.ingredient)){var e=a.state.errors;e.ingredient="Ingredient is empty",a.setState({errors:e})}else{var t=a.state.ingredients,n=t.filter(function(e){return e.for===a.state.selectedfor&&e.description.find(function(e){return e.text==a.state.ingredient})});if(console.log(" filter ",n),L(n)){var r=t.map(function(e){return e.for===a.state.selectedfor&&(e.description.unshift({text:a.state.ingredient,update:!1}),a.setState({ingredient:""})),e});a.setState({ingredients:r})}else{var o=a.state.errors;o.ingredient="Ingredient is already existed in this selected for",a.setState({errors:o})}}},a.ingForAdded=function(){if(L(a.state.ingredientfor)){var e={ingredientfor:"Ingredient for is empty can not add"};a.setState({errors:e})}else{console.log("ingredient for add ",a.state.ingredientfor);var t=a.state.ingredients,n=t.filter(function(e){return console.log(" element ",e),e.for===a.state.ingredientfor});if(console.log("exist ",n),L(n)){console.log("not exist"),t.push({for:a.state.ingredientfor,description:[]});var r={ingredientfor:null};a.setState({ingredients:t,ingredientfor:"",errors:r})}else{console.log("exist");var o={ingredientfor:"Already existed."};a.setState({errors:o})}}},a.selectForHandler=function(e){e.preventDefault(),a.setState({selectedfor:e.target.value})},a.fileUploadHandler=function(e){console.log(" even ",e.target.files[0]),e.target.files[0];var t=e.target.files[0],a=new FormData;a.append("image",t,t.name),v()({method:"post",url:"gs://foodordertest1.appspot.com",responseType:"stream"},a).then(function(e){console.log("res file upload ",e)}).catch(function(e){console.log("err ",e)})},a.updateIngredient=function(e,t){if(console.log("category ",e,t),t.update){var n=Object(K.a)(a.state.ingredients),r=n.filter(function(t){return t.for==e})[0];console.log("descs",r.description);var o=r.description.map(function(e){return e.text==t.text&&(e.update=!1,e.text=a.state.ingreupdatetemp),e}),c=n.map(function(t){return t.for==e&&(t.description=o),t});console.log("change state ",o),a.setState({ingredients:c,ingreupdatetemp:""})}else{var i=Object(K.a)(a.state.ingredients),l=i.filter(function(t){return t.for==e})[0];console.log("descs",l.description);var s=l.description.map(function(e){return e.text==t.text&&(e.update=!0),e}),m=i.map(function(t){return t.for==e&&(t.description=s),t});console.log("change state ",s),a.setState({ingredients:m,ingreupdatetemp:t.text})}},a.fileChangeHandler=function(e){if(e.preventDefault(),e.target.files[0])if(e.target.files[0].size<3e6&&"image/jpeg"===e.target.files[0].type){var t=a.state.errors;t.imagelink=null,a.setState({image:e.target.files[0],errors:t})}else{var n=a.state.errors;n.imagelink="File must be image jpeg format and size must be less than 2.8Mb",a.setState({errors:n,image:null})}},a.deleteIngredient=function(e,t){console.log("category ",e,t);var n=Object(K.a)(a.state.ingredients),r=n.filter(function(t){return t.for==e})[0];console.log("descs",r.description);var o=r.description.filter(function(e){return e.text!==t.text}),c=n.map(function(t){return t.for==e&&(t.description=o),t});console.log("change delete state ",o),a.setState({ingredients:c})},a.removeSelectedCategory=function(e){console.log("cat ",e);var t=a.state.cats.filter(function(t){return t._id!==e._id});console.log(" recat ",t),a.setState({cats:t})},a.onChangeRadio=function(e){e.preventDefault(),console.log("onChangeRadio ",e.target.value),a.setState({status:e.target.value})},a.onkeypress=function(e){"Enter"===e.key&&(console.log("enter press here! "),a.props.getRecipeAll(0,20,a.state.search))},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.maincategory.maincategories!==this.props.maincategory.maincategories&&this.setState({name:"",cats:[],categories:"",errors:{}}),L(e.errors)||(console.log("err ",e.errors),this.setState({errors:e.errors}))}},{key:"componentWillMount",value:function(){console.log("compoene id mount"),this.props.allCategory(),this.props.getRecipeAll(this.props.recipe.page,20,this.props.recipe.search)}},{key:"componentDidMount",value:function(){}},{key:"deleteInstruction",value:function(e){console.log("desle ");var t=Object(K.a)(this.state.preinstruction).filter(function(t){return t.text!==e.text});this.setState({preinstruction:t})}},{key:"updateInstruction",value:function(e){var t=this;if(e.update){var a=Object(K.a)(this.state.preinstruction).map(function(a){return a.text==e.text&&(a.update=!1,a.text=t.state.preinstructiontemp),a});this.setState({preinstruction:a,preinstructiontemp:""})}else{var n=Object(K.a)(this.state.preinstruction).map(function(t){return t.text==e.text&&(t.update=!0),t});console.log("change state ",n),this.setState({preinstruction:n,preinstructiontemp:e.text})}}},{key:"render",value:function(){var e=this,t=this.state.errors,a=(this.props.maincategory.maincategories,this.props.recipe.recipes);return r.a.createElement("div",{className:"templateBoard"},r.a.createElement("div",{className:"templateBoard__first"},r.a.createElement("button",{type:"button",className:"btn btn-info",onClick:function(){return e.setState({operation:"Add",name:"",special:!1,errors:{}})},"data-toggle":"modal","data-target":"#myModal"},"Add"),r.a.createElement("div",{className:"searchHolder"},r.a.createElement("input",{onKeyPress:function(t){e.onkeypress(t)},onChange:function(t){e.setState({search:t.target.value})},value:this.state.search,type:"text",placeholder:"search"})),r.a.createElement("div",{className:"buttonsearch"},r.a.createElement("i",{className:"material-icons"},"search"))),r.a.createElement(J,{onSubmit:this.onSubmit,operation:this.state.operation,header:"Main Category ",toggle:"modal",modalid:"myModal"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Title"),r.a.createElement("input",{type:"text",onChange:function(t){return e.onChange(t)},className:["form-control",L(t.title)?"":"is-invalid"].join(" "),name:"title",value:this.state.title,placeholder:"Recipe title"}),r.a.createElement("small",{className:"form-text text-muted"},"Recipe title"),!L(t.title)&&r.a.createElement("div",{className:"invalid-feedback"},t.title)),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"imagediv"},r.a.createElement("img",{src:this.state.image?URL.createObjectURL(this.state.image):this.state.imagelink?this.state.imagelink:"http://www.laramiejubileedays.net/images/100x100.gif",alt:"altdd"}),r.a.createElement("div",{className:"imagediv__desc"},r.a.createElement("input",{type:"file",name:"name",accept:"image/jpeg",onChange:function(t){return e.fileChangeHandler(t)}}),r.a.createElement("p",{className:"myerror"},t.imagelink?t.imagelink:" "),this.state.image?r.a.createElement("p",null,"Image Name: ",this.state.image?this.state.image.name:"no image"):null,this.state.image?r.a.createElement("p",null,"Image Size: ",this.state.image?this.state.image.size:"0"):null,this.state.image?r.a.createElement("p",null,"Image Type: ",this.state.image?this.state.image.type:""):null))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Youtube"),r.a.createElement("input",{type:"text",onChange:function(t){return e.onChange(t)},className:["form-control",L(t.youtube)?"":"is-invalid"].join(" "),name:"youtube",value:this.state.youtube,placeholder:"Recipe youtube"}),r.a.createElement("small",{className:"form-text text-muted"},"Recipe youtube"),!L(t.youtube)&&r.a.createElement("div",{className:"invalid-feedback"},t.youtube)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Recipe link"),r.a.createElement("input",{type:"text",onChange:function(t){return e.onChange(t)},className:["form-control",L(t.link)?"":"is-invalid"].join(" "),name:"link",value:this.state.link,placeholder:"Recipe link"}),r.a.createElement("small",{className:"form-text text-muted"},"Recipe link"),!L(t.link)&&r.a.createElement("div",{className:"invalid-feedback"},t.link)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Cooktime"),r.a.createElement("input",{type:"text",onChange:function(t){return e.onChange(t)},className:["form-control",L(t.cooktime)?"":"is-invalid"].join(" "),name:"cooktime",value:this.state.cooktime,placeholder:"Recipe cooktime"}),r.a.createElement("small",{className:"form-text text-muted"},"Cooktime"),!L(t.cooktime)&&r.a.createElement("div",{className:"invalid-feedback"},t.cooktime)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Preparation"),r.a.createElement("input",{type:"text",onChange:function(t){return e.onChange(t)},className:["form-control",L(t.preparation)?"":"is-invalid"].join(" "),name:"preparation",value:this.state.preparation,placeholder:"Recipe preparation"}),r.a.createElement("small",{className:"form-text text-muted"},"preparation"),!L(t.preparation)&&r.a.createElement("div",{className:"invalid-feedback"},t.preparation)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Episode"),r.a.createElement("input",{type:"text",onChange:function(t){return e.onChange(t)},className:["form-control",L(t.episode)?"":"is-invalid"].join(" "),name:"episode",value:this.state.episode,placeholder:"Recipe episode"}),r.a.createElement("small",{className:"form-text text-muted"},"Episode"),!L(t.episode)&&r.a.createElement("div",{className:"invalid-feedback"},t.episode)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Seen"),r.a.createElement("input",{type:"text",onChange:function(t){return e.onChange(t)},className:["form-control",L(t.seen)?"":"is-invalid"].join(" "),name:"seen",value:this.state.seen,placeholder:"Recipe seen"}),r.a.createElement("small",{className:"form-text text-muted"},"Number of people seen recipe"),!L(t.seen)&&r.a.createElement("div",{className:"invalid-feedback"},t.seen)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Serves"),r.a.createElement("input",{type:"text",onChange:function(t){return e.onChange(t)},className:["form-control",L(t.serves)?"":"is-invalid"].join(" "),name:"serves",value:this.state.serves,placeholder:"Recipe serves"}),r.a.createElement("small",{className:"form-text text-muted"},"Recipe serves"),!L(t.serves)&&r.a.createElement("div",{className:"invalid-feedback"},t.serves)),r.a.createElement("div",{className:"groupborder"},r.a.createElement("div",{className:"form-group mb-0 row p-side-3"},r.a.createElement("label",{className:"col-sm-12"},"Categories"),r.a.createElement("select",{name:"categories",onChange:function(t){return e.onChange(t)},className:" col-sm-9 mb-3 form-control"},r.a.createElement("option",null,"None"),this.props.category.categories.map(function(e){return r.a.createElement("option",{key:e._id,value:e._id},e.name)})),r.a.createElement("div",{className:"col-sm-1"}),r.a.createElement("button",{className:"btn btn-purple col-sm-2 mb-3 ",onClick:function(){return e.categorySelected()}},"Select")),!L(t.category)&&r.a.createElement("div",{className:"myinvalid-feedback"},t.category),r.a.createElement("div",{className:"cat_list"},r.a.createElement("ul",null,this.state.cats.map(function(t){return r.a.createElement("li",{key:t._id,className:"flexbox-row"},r.a.createElement("div",{className:"mr-auto"},t.name),r.a.createElement("button",{className:"mybtn btn-delete",onClick:function(){return e.removeSelectedCategory(t)}},"remove"))})))),r.a.createElement("div",{className:"groupborder"},r.a.createElement("div",{className:"form-group mb-0 row p-side-3"},r.a.createElement("label",{className:"col-sm-12"},"Instruction"),r.a.createElement("input",{type:"text",onChange:function(t){return e.onChange(t)},className:["form-control","col-sm-9","mb-3",L(t.instruction)?"":"is-invalid"].join(" "),name:"instruction",value:this.state.instruction,placeholder:"Recipe Instruction"}),r.a.createElement("div",{className:"col-sm-1"}),r.a.createElement("button",{className:"btn btn-purple col-sm-2 mb-3 ",onClick:function(){return e.instuctionAdded()}},"Select")),!L(t.preinstruction)&&r.a.createElement("div",{className:"myinvalid-feedback"},t.preinstruction),r.a.createElement("div",{className:"cat_list"},r.a.createElement("ul",{className:"mylistol"},this.state.preinstruction.map(function(t,a){return L(t.text)?null:r.a.createElement("li",{key:t.text,className:"flexbox-row"}," ",r.a.createElement("span",null," \xa0"),t.update?r.a.createElement("div",{className:"mr-auto"},r.a.createElement("input",{type:"text",onChange:function(t){e.setState({preinstructiontemp:t.target.value})},value:e.state.preinstructiontemp})):r.a.createElement("div",{className:"mr-auto"},t.text),r.a.createElement("button",{className:"mybtn btn-update",onClick:function(){return e.updateInstruction(t)}},t.update?"Save":"Update"),r.a.createElement("button",{className:"mybtn btn-delete",onClick:function(a){return e.deleteInstruction(t)}},"delete"))})))),r.a.createElement("div",{className:"groupborder"},r.a.createElement("div",{className:"form-group mb-0 row p-side-3"},r.a.createElement("label",{className:"col-sm-12"},"Ingredient for: "),r.a.createElement("input",{type:"text",onChange:function(t){return e.onChange(t)},className:["form-control","col-sm-9","mb-3",L(t.ingredientfor)?"":"is-invalid"].join(" "),name:"ingredientfor",value:this.state.ingredientfor,placeholder:"Ingredient for..."}),r.a.createElement("div",{className:"col-sm-1"}),r.a.createElement("button",{className:"btn btn-purple col-sm-2 mb-3 ",onClick:function(){return e.ingForAdded()}},"Add"),!L(t.ingredientfor)&&r.a.createElement("div",{className:"invalid-feedback col-sm-12"},t.ingredientfor)),r.a.createElement("div",{className:"ingredientmodalrow"},this.state.ingredients.map(function(t,a){return r.a.createElement("div",{key:a,className:"mr-3"},r.a.createElement("input",{type:"radio",id:"ingfor"+a,name:"ingfor",onChange:function(t){return e.selectForHandler(t)},value:t.for,checked:t.for===e.state.selectedfor}),r.a.createElement("label",{htmlFor:"ingfor"+a},t.for))})),r.a.createElement("div",{className:"form-group mb-0 row p-side-3"},r.a.createElement("label",{className:"col-sm-12"},"Ingredient name size: "),r.a.createElement("input",{type:"text",onChange:function(t){return e.onChange(t)},className:["form-control","col-sm-9","mb-3",L(t.ingredient)?"":"is-invalid"].join(" "),name:"ingredient",value:this.state.ingredient,placeholder:"Ingredient"}),r.a.createElement("div",{className:"col-sm-1"}),r.a.createElement("button",{className:"btn btn-purple col-sm-2 mb-3 ",onClick:function(){return e.ingredientAdded()}},"Select"),!L(t.ingredient)&&r.a.createElement("div",{className:"invalid-feedback col-sm-12"},t.ingredient)),!L(t.ingredients)&&r.a.createElement("div",{className:"myinvalid-feedback"},t.ingredients),r.a.createElement("div",{className:"cat_list"},r.a.createElement("ul",null,this.state.ingredients.map(function(t,a){return r.a.createElement("li",{key:a},t.for,r.a.createElement("ol",{className:"mylist"},t.description.map(function(a){return L(a.text)?null:r.a.createElement("li",{key:a.text,className:"flexbox-row"},a.update?r.a.createElement("div",{className:"mr-auto"},r.a.createElement("input",{type:"text",onChange:function(t){e.setState({ingreupdatetemp:t.target.value})},value:e.state.ingreupdatetemp})):r.a.createElement("div",{className:"mr-auto"},a.text),r.a.createElement("button",{className:"mybtn btn-update",onClick:function(){return e.updateIngredient(t.for,a)}},a.update?"Save":"Update"),r.a.createElement("button",{className:"mybtn btn-delete",onClick:function(n){return e.deleteIngredient(t.for,a)}},"delete"))})))})))),r.a.createElement("div",{className:"groupborder"},r.a.createElement("label",null,"Recipe status"),r.a.createElement("div",{className:"form-group p-side-3"},r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:"status",id:"inlineRadio1",onChange:function(t){return e.onChangeRadio(t)},value:"active",checked:"active"===this.state.status}),r.a.createElement("label",{className:"form-check-label",htmlFor:"inlineRadio1"},"active")),r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:"status",onChange:function(t){return e.onChangeRadio(t)},checked:"inactive"===this.state.status,id:"inlineRadio2",value:"inactive"}),r.a.createElement("label",{className:"form-check-label",htmlFor:"inlineRadio2"},"inactive")),!L(t.status)&&r.a.createElement("div",{className:"myinvalid-feedback"},t.status)))),r.a.createElement("div",{className:"templateBoard__second"},r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table table-hover table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Link"),r.a.createElement("th",null,"Categories"),r.a.createElement("th",null,"Seen"),r.a.createElement("th",null,"Serves"),r.a.createElement("th",null),r.a.createElement("th",null))),r.a.createElement("tbody",null,a.map(function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,a+1),r.a.createElement("td",null,r.a.createElement("img",{src:t.image,className:"td__image"})),r.a.createElement("td",null,t.title),r.a.createElement("td",null,r.a.createElement("a",{href:"http://www.laurainthekitchen.com/".concat(t.link)},"Link")),r.a.createElement("td",null,t.category.map(function(e){return e.name+", "})),r.a.createElement("td",null,t.seen),r.a.createElement("td",null,t.serves),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-blue mr-2","data-toggle":"modal",onClick:function(){return e.setUpdateRecipeValue(t._id)},"data-target":"#myModal"},"Update")),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-orange",onClick:function(){return e.props.deleteRecipe(t._id)}},"Delete")))})))),r.a.createElement(Y,{total:this.props.recipe.total,page:this.props.recipe.page})))}}]),t}(r.a.Component),ce=Object(d.b)(function(e){return{auth:e.auth,category:e.category,maincategory:e.maincategory,errors:e.errors,recipe:e.recipe}},{allCategory:X,updateRecipe:function(e){return function(t){v.a.post("".concat(S,"/api/recipes/update"),e).then(function(e){t({type:"UPDATE_RECIPE",payload:e.data.data})}).catch(function(e){400===e.response.status&&t({type:y,payload:e.response.data.err}),console.log("err add recipe ",e.response)})}},addRecipe:function(e){return function(t){v.a.post("".concat(S,"/api/recipes/add"),e).then(function(e){t({type:"ADD_RECIPE",payload:e.data.data})}).catch(function(e){400===e.response.status&&t({type:y,payload:e.response.data.err}),console.log("err add recipe ",e.response)})}},deleteRecipe:function(e){return function(t){v.a.get("".concat(S,"/api/recipes/delete/").concat(e)).then(function(a){t({type:"DELETE_RECIPE",payload:e})}).catch(function(e){400===e.response.status&&t({type:y,payload:e.response.data}),console.log("err add recipe ",e)})}},getRecipeAll:O})(oe),ie=a(19),le=a.n(ie),se=a(28),me=(a(89),"https://laurarecipebackend.herokuapp.com");function ue(e){return new Promise(function(t){v.a.get("".concat(me,"/api/recipes/parse/number/").concat(e)).then(function(a){console.log("res ",a),t(e)}).catch(function(a){console.log("err ",a),t(e)})})}function pe(e,t){return new Promise(function(a){v.a.get("".concat(me,"/api/recipes/parse/titlenum/?number=").concat(e,"&title=").concat(t)).then(function(t){a(e)}).catch(function(t){a(e)})})}var de=function(e){return console.log("dispatch recipe ",e),{type:"PARSE_INCREASED_ARRAY",payload:e}};function ge(e,t){return fe.apply(this,arguments)}function fe(){return(fe=Object(se.a)(le.a.mark(function e(t,a){var n;return le.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("array title ",t,a),e.next=3,pe(t,a);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function he(e){return ye.apply(this,arguments)}function ye(){return(ye=Object(se.a)(le.a.mark(function e(t){var a;return le.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Ee=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={current:""},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.allCategory()}},{key:"parseAll",value:function(){this.props.startParseAll(),this.setState({current:""})}},{key:"parseTitle",value:function(e){console.log("categoryItem clicked ",e),this.props.parseTitle(e),this.setState({current:e})}},{key:"render",value:function(){var e=this,t=this.props.parse.completed,a=this.props.parse.array.length;console.log("compelted",t,a);var n=0;return n=0===a?0:100*t/a,r.a.createElement("div",null,r.a.createElement("div",{className:"flexbox-row align-items-center"},r.a.createElement("button",{className:"btn btn-purple ",onClick:function(){return e.parseAll()}},"Parse All Category")),r.a.createElement("div",{className:"progress mx-3 mb-5",style:{}},r.a.createElement("div",{className:"progress-bar",role:"progressbar","aria-valuenow":n,"aria-valuemin":"0","aria-valuemax":"100",style:{width:n+"%"}},r.a.createElement("span",null,n.toFixed(2),"% Complete"))),this.props.category.categories.map(function(t){return r.a.createElement("div",{key:t.name,className:"card mb-4 mx-3 pt-2"},r.a.createElement("div",{className:"d-flex justify-content-between align-items-center px-1"},r.a.createElement("p",{className:"card-subtitle",style:{fontSize:12,textTransform:"capitalize"}},t.name),r.a.createElement("a",{href:"#",className:"card-link",style:{fontSize:12},onClick:function(){return e.parseTitle(t.name)}},"Parse")),r.a.createElement("div",{key:t._id,className:"px-1 mb-3"},r.a.createElement("div",{className:"progress"},r.a.createElement("div",{className:"progress-bar progress-bar-striped",role:"progressbar","aria-valuenow":t.name==e.state.current?n:0,"aria-valuemin":"0","aria-valuemax":"100",style:{width:"".concat(e.state.current==t.name?n:0,"%"),textAlign:"center"}},r.a.createElement("span",null," ",t.name==e.state.current?parseFloat(n).toFixed(2):0,"% Complete")))))}))}}]),t}(r.a.Component),ve=Object(d.b)(function(e){return{parse:e.parse,category:e.category}},{startParseAll:function(){return function(e){console.log("start parse all"),v.a.get("".concat(me,"/api/recipes/parse/recipefull")).then(function(){var t=Object(se.a)(le.a.mark(function t(a){var n,r,o,c,i,l,s;return le.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:console.log("array parsed"),e({type:"PARSE_ALL",payload:a.data.data}),n=!0,r=!1,o=void 0,t.prev=5,c=a.data.data[Symbol.iterator]();case 7:if(n=(i=c.next()).done){t.next=17;break}return l=i.value,t.next=11,he(l);case 11:s=t.sent,console.log(" value in for ",s),e(de(s));case 14:n=!0,t.next=7;break;case 17:t.next=23;break;case 19:t.prev=19,t.t0=t.catch(5),r=!0,o=t.t0;case 23:t.prev=23,t.prev=24,n||null==c.return||c.return();case 26:if(t.prev=26,!r){t.next=29;break}throw o;case 29:return t.finish(26);case 30:return t.finish(23);case 31:case"end":return t.stop()}},t,null,[[5,19,23,31],[24,,26,30]])}));return function(e){return t.apply(this,arguments)}}()).catch(function(e){console.log("Error",e)})}},parseTitle:function(e){return function(t){v.a.get("".concat(me,"/api/recipes/parse/titles/").concat(e)).then(function(){var a=Object(se.a)(le.a.mark(function a(n){var r,o,c,i,l,s,m;return le.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t({type:"PARSE_ALL",payload:n.data.data}),r=!0,o=!1,c=void 0,a.prev=4,i=n.data.data[Symbol.iterator]();case 6:if(r=(l=i.next()).done){a.next=16;break}return s=l.value,a.next=10,ge(s,e);case 10:m=a.sent,console.log(" value in for ",m),t(de(m));case 13:r=!0,a.next=6;break;case 16:a.next=22;break;case 18:a.prev=18,a.t0=a.catch(4),o=!0,c=a.t0;case 22:a.prev=22,a.prev=23,r||null==i.return||i.return();case 25:if(a.prev=25,!o){a.next=28;break}throw c;case 28:return a.finish(25);case 29:return a.finish(22);case 30:case"end":return a.stop()}},a,null,[[4,18,22,30],[23,,25,29]])}));return function(e){return a.apply(this,arguments)}}()).catch(function(e){console.log("titles error ",e)})}},allCategory:X})(Ee),be=a(47),Ne=a.n(be),ke="https://laurarecipebackend.herokuapp.com",Ce=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={product:null,showmore:!1,loading:!1,comment:"",error:!1},a.onSubmitComment=function(e){e.preventDefault(),a.props.auth.isAuthenticated&&null!==a.state.product?v.a.post("".concat(ke,"/api/recipes/addComment"),{userid:a.props.auth.user.id,text:a.state.comment,recipelink:a.state.product.link}).then(function(e){console.log("re console comment ",e),a.setState({product:e.data.data,comment:"",error:!1})}).catch(function(e){console.log("re catch ",e)}):a.props.history.push("/login")},a.selectElement=function(e){a.props.history.push("/product/".concat(e)),v.a.get("".concat(ke,"/api/recipes/item/").concat(e)).then(function(e){a.setState({product:e.data.data,loading:!1})}).catch(function(e){console.log("err ",e),a.setState({loading:!1})})},a.changeComment=function(e){a.setState({comment:e.target.value,error:""===e.target.value})},a.downloadVideo=function(){var e=window.open("".concat(ke,"/api/recipes/download?title=").concat(a.state.product.title,"&url=https://www.youtube.com/watch?v=").concat(a.state.product.youtube));setTimeout(function(){e.close()},2e3)},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0});var t=this.props.history.location.pathname.split("/")[2];v.a.get("".concat(ke,"/api/recipes/item/").concat(t)).then(function(t){e.setState({product:t.data.data,loading:!1})}).catch(function(t){console.log("err ",t),e.setState({loading:!1})}),0===this.props.recipe.popularrecipe.length&&this.props.getRecipePopular()}},{key:"render",value:function(){var e=this,t=this.state.product;console.log("product ",t);var a=this.props.recipe.popularrecipe;return r.a.createElement("div",{className:"productdetail"},!1===this.state.loading?this.state.product?r.a.createElement("div",{className:"productfull"},r.a.createElement("h3",{className:"productfull__title"},t.title),r.a.createElement("iframe",{className:"productfull__iframe",src:"https://www.youtube.com/embed/".concat(t.youtube),frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),r.a.createElement("div",{className:"d-flex justify-content-around"},r.a.createElement("div",{className:"productfull__infobox"},r.a.createElement("div",{className:"productfull__info"},r.a.createElement("span",null,"PREParation ")," ",t.preparation),r.a.createElement("div",{className:"productfull__info"},r.a.createElement("span",null,"cook time ")," ",t.cooktime),r.a.createElement("div",{className:"productfull__info"},r.a.createElement("span",null,"servings ")," ",t.serves),r.a.createElement("div",{className:"productfull__info"},r.a.createElement("span",null,"episode ")," ",t.episode)),r.a.createElement("div",{className:"buttondownload"},r.a.createElement("button",{onClick:function(){return e.downloadVideo()}},"Download Video"))),r.a.createElement("div",{className:"productfull__recipebox"},r.a.createElement("h3",{className:"productfull__title"},"Ingredients"),t.ingredients.map(function(e){return r.a.createElement("div",{key:e.for},r.a.createElement("h3",{className:"productfull__recipebox__title"},e.for),e.description.map(function(e){return r.a.createElement("p",{className:"productfull__recipebox__desc",key:e},r.a.createElement("input",{type:"checkbox"}),e)}))})),r.a.createElement("div",{className:"productfull__preparation"},r.a.createElement("div",{className:"productfull__title"},"Preparation"),t.preinstruction.map(function(e,t){return r.a.createElement("p",{className:"preparation__item",key:t},e)})),r.a.createElement("div",{className:"card mycomment"},r.a.createElement("div",{className:"card-header"},"Leave a Comment:"),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:function(t){return e.onSubmitComment(t)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{rows:"3",value:this.state.comment,onChange:function(t){return e.changeComment(t)},name:"comment",className:"form-control"})),r.a.createElement("div",{className:[this.state.error?"errormsg":"helpertext"].join(" ")},this.state.error?"Comment can not be empty":"Opinion about recipe"),r.a.createElement("button",{className:"btn btn-purple",disabled:""===this.state.comment,type:"submit"},"Submit"))),r.a.createElement("div",{className:"mycomment__container"},r.a.createElement("hr",null),r.a.createElement("div",{className:"mycomment"},this.state.product.comments.map(function(e){return r.a.createElement("div",{className:"media m-4",key:e._id},r.a.createElement("img",{className:"d-flex mr-3 rounded-circle",width:"50px",src:Ne.a,alt:""}),r.a.createElement("div",{className:"media-body"},r.a.createElement("h5",{className:"mt-0"},e.user.username),e.text))}))))):r.a.createElement("div",{className:"notFound"},"Not found"):r.a.createElement("div",{className:"loadingcontainer"},r.a.createElement("div",{className:"lds-facebook"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))),r.a.createElement("div",{className:"popular",style:this.state.showmore?{height:"auto"}:null,ref:"popular"},r.a.createElement("h3",{className:"myheader"},"Popular recipes"),a.map(function(t){return r.a.createElement("div",{className:"popular__product",key:t.title,onClick:function(){return e.selectElement(t._id)}},r.a.createElement("img",{src:t.image,alt:"",className:"popular__product__image"}),r.a.createElement("p",{className:"popular__product__title"},t.title))})))}}]),t}(r.a.Component),Ae=Object(d.b)(function(e){return{recipe:e.recipe,auth:e.auth}},{getRecipePopular:j})(Object(p.f)(Ce)),Se=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).categorySelected=function(e){console.log("category selected",e),a.props.setCategory(e),console.log("window.loation.href",window.location),"/"===window.location.pathname?(console.log("path /"),a.props.getRecipeCategory(e,1)):a.props.history.push("/")},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.allCategory()}},{key:"render",value:function(){var e=this,t=r.a.createElement(F,null,r.a.createElement(p.d,null,r.a.createElement(f,{path:"/admin/maincategory",component:te})),r.a.createElement(p.d,null,r.a.createElement(f,{path:"/admin/recipecategory",component:ce})),r.a.createElement(p.d,null,r.a.createElement(f,{path:"/admin/parse",component:ve})),r.a.createElement("div",{className:"container midpage"},r.a.createElement(p.d,null,r.a.createElement(f,{path:"/admin/category",component:Q}))),r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/",exact:!0,component:W}),r.a.createElement(p.b,{path:"/product/:id",exact:!0,component:Ae}))),a=r.a.createElement("div",{className:"container "},r.a.createElement("div",{className:"usercategorytab"},this.props.category.categories.map(function(t){return!1===t.special&&"/login"!==window.location.pathname?r.a.createElement("div",{className:"usercategorytab__item",key:t._id,onClick:function(){return e.categorySelected(t.name)}},r.a.createElement("div",{className:"usercategorytab__item__icon"},t.name.substring(1,0)),r.a.createElement("div",{className:"usercategorytab__item__text"},t.name.substring(1))):null})),r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/",exact:!0,component:W}),r.a.createElement(p.b,{path:"/product/:id",exact:!0,component:Ae}))),n=r.a.createElement("div",{className:"midpage"},r.a.createElement("div",{className:"usercategorytab"},this.props.category.categories.map(function(t){return!1===t.special&&"/login"!==window.location.pathname?r.a.createElement("div",{className:"usercategorytab__item",key:t._id,onClick:function(){return e.categorySelected(t.name)}},r.a.createElement("div",{className:"usercategorytab__item__icon"},t.name.substring(1,0)),r.a.createElement("div",{className:"usercategorytab__item__text"},t.name.substring(1))):null})),r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/login",component:G})),r.a.createElement("div",{className:" container"},r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/",exact:!0,component:W}),r.a.createElement(p.b,{path:"/product/:id",exact:!0,component:Ae})))),o=this.props.auth;return r.a.createElement("div",{className:"App"},r.a.createElement(w,null),r.a.createElement("div",{className:"bodydiv"},o.isAuthenticated?"user"===o.user.role?a:t:n),r.a.createElement(R,null))}}]),t}(r.a.Component),Oe=Object(d.b)(function(e){return{auth:e.auth,recipe:e.recipe,category:e.category}},{getRecipeCategory:_,allCategory:X,setCategory:function(e){return function(t){t({type:"SET_CATEGORY",payload:e})}}})(Object(p.f)(Se)),_e=a(20),je={},xe=a(10),we={isAuthenticated:!1,user:{}},Re={categories:[]},Ie={maincategories:[]},Te={recipes:[],page:1,total:0,search:"",popularrecipe:[],category:"",loading:!1},Pe={array:[],loading:!1,completed:0},De=Object(_e.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(xe.a)({},e,{isAuthenticated:!L(t.payload),user:t.payload});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return t.payload;default:return e}},category:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CATEGORIES":return console.log("cateogry redux",t.payload),Object(xe.a)({},e,{categories:t.payload});default:return e}},maincategory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_MAINCATEGORIES":return console.log("cateogry redux",t.payload),Object(xe.a)({},e,{maincategories:t.payload});default:return e}},recipe:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_RECIPES":return console.log("cateogry redux",t.payload),Object(xe.a)({},e,{recipes:t.payload.recipe,total:t.payload.count,page:t.payload.page});case"GET_RECIPES_POPULAR":return Object(xe.a)({},e,{popularrecipe:t.payload});case"SET_CATEGORY":return Object(xe.a)({},e,{category:t.payload});case"SET_SEARCH":return Object(xe.a)({},e,{search:t.payload});case"DELETE_RECIPE":var a=e.recipes.filter(function(e){return e._id!==t.payload});return Object(xe.a)({},e,{recipes:a});case"UPDATE_RECIPE":var n=e.recipes.map(function(e){return e._id===t.payload._id?t.payload:e});return Object(xe.a)({},e,{recipes:n});case"ADD_RECIPE":var r=t.payload;return console.log("addr ecipe",r),Object(xe.a)({},e,{recipes:[].concat(Object(K.a)(e.recipes),[r])});case"SET_RECIPE_LOADING":return console.log("set recipe loading ",t.payload),Object(xe.a)({},e,{loading:t.payload});default:return e}},parse:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PARSE_ALL":return Object(xe.a)({},e,{loading:!0,array:t.payload,completed:0});case"PARSE_INCREASED_ARRAY":return Object(xe.a)({},e,{loading:!0,completed:t.payload});default:return e}}}),Me=a(48),Ue=a(49),Ge=a.n(Ue),He=[Me.a],Le=function(){try{var e=localStorage.state;if(null===e)return;return JSON.parse(e)}catch(t){return void console.log("load state ",t)}}(),ze=Object(_e.e)(De,Le,Object(_e.d)(_e.a.apply(void 0,He)));ze.subscribe(Ge()(function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(a){}}(ze.getState())},1e3));var Ye=ze;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));if(localStorage.jwtToken){b(localStorage.jwtToken);var Be=k()(localStorage.jwtToken);Ye.dispatch(A(Be));var We=Date.now()/1e3;Be.exp<We&&(Ye.dispatch(C()),window.location.href="/login")}var Fe=r.a.createElement(d.a,{store:Ye},r.a.createElement(h.a,null,r.a.createElement(Oe,null)));c.a.render(Fe,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[50,1,2]]]);
//# sourceMappingURL=main.124a14fe.chunk.js.map